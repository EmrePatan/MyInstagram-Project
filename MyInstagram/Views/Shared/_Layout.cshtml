<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyInstagram</title>
    <!-- Bootstrap core CSS -->
    <link href="/Content/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="/Content/bootstrap/css/blog-post.css" rel="stylesheet">
    <!-- Fontawesome's CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-white bg-white fixed-top">
        <div class="container">
            <i class="fab fa-instagram fa-3x"></i>
            <a class="navbar-brand fa-2x" style="padding-left:25px;padding-right:5px;">|</a>
            <a class="navbar-brand" style="font-family:'Script MT';font-size:xx-large">MyInstagram</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    @if (Session["ActiveUser"] == null)
                    {
                        <li class="nav-item active">
                            <a class="nav-link LoginSchema" href="/Anasayfa/Login">Giriş Yap</a>
                        </li>
                    }
                    else
                    {
                        <li class="nav-item">
                            <a class="nav-link AddStory far fa-plus-square fa-2x"></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link far fa-compass fa-lg" href="#"></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link far fa-user fa-lg" href="#"></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link fas fa-sign-out-alt fa-lg" href="/Anasayfa/Logout"></a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>
    <hr />
    @RenderBody()

    @using (Html.BeginForm("AddStory", "Anasayfa", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="modal" role="dialog">
            <div class="modal-content">
                <hr />
                <div class="text-center">
                    <div class="AddImg">
                        <input type="file" name="file" class="base-input" />
                        <img src="~/Content/images/chooseaphoto.png" class="fake-input" />
                    </div>
                    <div class="AddText">
                        <textarea class="form-control textarea" name="StoryComment" rows="6"></textarea>
                        <input type="submit" id="btnAddStory" class="btn btn-block" value="Paylaş" />
                    </div>
                </div>
                <hr />
            </div>
        </div>
    }
        <script>

        $(".AddStory").click(function () {
            $(".modal").css('display', 'block');
        });

            function readURL(input)
            {

                if (input.files && input.files[0])
                {
                var reader = new FileReader();

                    reader.onload = function (e) {
                        $('.fake-input').attr('src', e.target.result);
                    };
                };
                reader.readAsDataURL(input.files[0]);
            };

        $(".base-input").change(function () {
            readURL(this);
        });
        </script>

        <style>
            .textarea {
                position: absolute;
                top: 240px
            }

            #btnAddStory {
                position: absolute;
                top: 430px;
                background-color: #a8a4d2
            }

            .AddText {
                width: 400px;
                height: 400px
            }

            .fake-input {
                position: absolute;
                top: 10px;
                height: 200px;
                width: 200px;
                left: 150px;
                border: groove;
                background-color: #a8a4d2
            }

            .base-input {
                position: absolute;
                top: 10px;
                z-index: 999;
                height: 200px;
                width: 200px;
                left: 150px;
                opacity: 0;
            }

            .LoginSchema {
                border-radius: 40px;
                width: 100px;
                background-color: #eeeeee;
                text-align: center
            }

                .LoginSchema:hover {
                    color: black;
                    background-color: #c8c8c8
                }

            .nav-link, .nav-link:hover {
                color: black;
            }

            .AddStory {
                position: fixed;
                right: 600px;
                top: 9px;
                cursor: pointer
            }

            .modal {
                display: none;
                position: fixed;
                z-index: 1;
                padding-top: 100px;
                padding-left: 400px;
                padding-right: 450px;
                width: 100%;
                height: 100%;
                background-color: rgba(0,0,0,0.4);
            }
        </style>
    </body>
</html>
